=====================================
Hospital Management System for Odoo
=====================================

Комплексна система управління лікарнею для Odoo 17.0

.. contents::
   :local:

Огляд
=====

**hr_hospital** - це повнофункціональний модуль для управління лікарнею в Odoo, що включає:

* Управління пацієнтами та їх медичними картками
* Облік лікарів з спеціалізаціями та графіками роботи
* Планування та відстеження візитів пацієнтів
* Діагностика з підтримкою множинних діагнозів
* Ієрархічний класифікатор хвороб (МКХ-10)
* Звіти та аналітика по захворюваності
* Візарди для автоматизації рутинних операцій
* Повна українська локалізація (350+ перекладів)

Основні можливості
==================

Пацієнти
--------

* **Персональні дані**: ПІБ, дата народження, стать, контакти
* **Медична інформація**: група крові, алергії, паспортні дані
* **Страхування**: компанія та номер полісу
* **Контактні особи**: для екстрених випадків
* **Історія лікарів**: автоматичне відстеження змін персонального лікаря
* **Візити та діагнози**: повна історія відвідувань

Лікарі
------

* **Кваліфікація**: спеціалізація, ліцензійний номер, досвід роботи
* **Менторство**: підтримка інтернів з призначенням менторів
* **Графік роботи**: гнучке планування робочих днів, відпусток, лікарняних
* **Рейтинг**: оцінка якості роботи (0.00-5.00)
* **Інтеграція**: прив'язка до користувачів системи для входу

Візити
------

* **Статуси**: заплановано, завершено, скасовано, не з'явився
* **Планування**: дата та час візиту з можливістю перенесення
* **Типи візитів**: первинний, повторний, профілактичний, невідкладний
* **Вартість**: облік вартості візиту з підтримкою валют
* **Діагнози**: множинні діагнози на один візит

Діагнози
--------

* **Хвороби**: вибір з класифікатора з підтримкою ієрархії
* **Опис та лікування**: детальний опис діагнозу та призначень
* **Затвердження**: механізм затвердження діагнозів менторами
* **Ступінь тяжкості**: легкий, середній, тяжкий, критичний

Класифікатор хвороб
-------------------

* **Ієрархічна структура**: багаторівнева класифікація хвороб
* **Коди МКХ-10**: міжнародна класифікація хвороб
* **Характеристики**: ступінь небезпеки, заразність, симптоми
* **Географія**: регіони поширення хвороб

Візарди
-------

1. **Масове перепризначення лікарів**
   
   * Перепризначення пацієнтів від одного лікаря до іншого
   * Автоматичне створення історії змін
   * Вказання причини зміни

2. **Перенесення візиту**
   
   * Зміна дати, часу або лікаря
   * Збереження історії змін
   * Обов'язкова причина перенесення

3. **Заповнення розкладу лікаря**
   
   * Автоматичне створення розкладу на кілька тижнів
   * Підтримка стандартних та змінних графіків
   * Налаштування робочих днів та перерв

4. **Звіт по хворобах**
   
   * Фільтрація за лікарями, хворобами, країнами
   * Вибір періоду звітності
   * Детальний або підсумковий формат

5. **Експорт медичної картки**
   
   * Експорт даних пацієнта у JSON або CSV
   * Вибір періоду та складу даних
   * Підтримка різних мов

Безпека та доступи
==================

Групи користувачів
------------------

* **Hospital Patient**: доступ до власних даних
* **Hospital Intern**: інтерни з обмеженими правами
* **Hospital Doctor**: повний доступ до пацієнтів та візитів
* **Hospital Manager**: управління довідниками
* **Hospital Administrator**: повний адміністративний доступ

Record Rules
------------

* Пацієнти бачать тільки свої дані
* Інтерни бачать тільки своїх пацієнтів
* Лікарі бачать всіх пацієнтів
* Менеджери та адміністратори мають повний доступ

Валідація даних
===============

SQL обмеження
-------------

* Унікальність ліцензійного номера лікаря
* Унікальність коду спеціалізації
* Рейтинг лікаря в межах 0.00-5.00
* Час закінчення роботи пізніше часу початку

Python обмеження
----------------

* Заборона вибору інтерна як ментора
* Заборона рекурсивної ієрархії хвороб
* Лікар не може бути ментором самому собі
* Вік пацієнта має бути більше 0
* Заборона видалення візитів з діагнозами

Встановлення
============

Вимоги
------

* Odoo 17.0
* Python 3.10+
* PostgreSQL 12+

Інструкція
----------

1. Скопіюйте модуль у папку addons::

    cp -r hr_hospital /path/to/odoo/addons/

2. Оновіть список модулів::

    odoo-bin -c odoo.conf -u all -d your_database

3. Встановіть модуль через інтерфейс Odoo:
   
   * Налаштування → Модулі → Програми
   * Знайдіть "Hospital Management"
   * Натисніть "Встановити"

Конфігурація
============

Після встановлення:

1. Створіть спеціалізації лікарів (Лікарня → Конфігурація → Спеціалізації)
2. Додайте лікарів з ліцензіями (Лікарня → Лікарі)
3. Налаштуйте графіки роботи лікарів
4. Додайте класифікатор хвороб (Лікарня → Конфігурація → Хвороби)
5. Створіть пацієнтів (Лікарня → Пацієнти)
6. Плануйте візити (Лікарня → Візити)

Використання
============

Створення візиту
----------------

1. Перейдіть до Лікарня → Візити → Створити
2. Виберіть пацієнта та лікаря
3. Вкажіть дату та час візиту
4. Виберіть тип візиту
5. Після завершення візиту додайте діагнози

Додавання діагнозу
------------------

1. Відкрийте візит пацієнта
2. На вкладці "Діагнози" натисніть "Додати рядок"
3. Виберіть хворобу з класифікатора
4. Вкажіть опис та призначене лікування
5. Встановіть ступінь тяжкості
6. Для інтернів - діагноз потребує затвердження ментором

Зміна персонального лікаря
---------------------------

1. Відкрийте картку пацієнта
2. Змініть поле "Персональний лікар"
3. Система автоматично створить запис в історії змін

Технічна інформація
===================

Структура модуля
----------------

::

    hr_hospital/
    ├── models/              # Моделі даних
    │   ├── abstract_person.py
    │   ├── hr_hospital_doctor.py
    │   ├── hr_hospital_patient.py
    │   ├── hr_hospital_visit.py
    │   ├── hr_hospital_diagnosis.py
    │   ├── hr_hospital_disease.py
    │   └── ...
    ├── views/               # XML представлення
    ├── wizard/              # Візарди
    ├── security/            # Групи та права доступу
    ├── data/                # Початкові дані
    ├── demo/                # Демо дані
    ├── report/              # Звіти
    ├── i18n/                # Переклади
    ├── tests/               # Юніт-тести
    └── static/              # Статичні файли

Основні моделі
--------------

* ``abstract.person`` - Абстрактна модель особи
* ``hr.hospital.doctor`` - Лікарі
* ``hr.hospital.patient`` - Пацієнти
* ``hr.hospital.visit`` - Візити
* ``hr.hospital.diagnosis`` - Діагнози
* ``hr.hospital.disease`` - Хвороби
* ``hr.hospital.doctor.specialization`` - Спеціалізації
* ``hr.hospital.doctor.schedule`` - Графік роботи
* ``hr.hospital.patient.doctor.history`` - Історія лікарів
* ``hr.hospital.contact.person`` - Контактні особи

Тестування
==========

Запуск тестів::

    odoo-bin -c odoo.conf -d test_db --test-enable --stop-after-init -i hr_hospital

Покриття тестами:

* Обчислювальні поля (age, full_name, years_of_experience)
* Методи name_get
* Створення історії при зміні лікаря
* Затвердження діагнозів
* Валідація обмежень
* Заборона видалення візитів з діагнозами

Розробка
========

Додавання нових полів
---------------------

1. Додайте поле в модель (models/)
2. Оновіть представлення (views/)
3. Додайте переклад (i18n/uk_UA.po)
4. Створіть тест (tests/)
5. Оновіть документацію

Додавання нового візарда
------------------------

1. Створіть модель у wizard/
2. Створіть представлення у wizard/
3. Додайте action та menu item
4. Додайте переклади
5. Напишіть тести

Підтримка
=========

* **Автор**: Khatrus Zakhar
* **Email**: businessforhome.ua@gmail.com
* **GitHub**: https://github.com/zhatrus/hr_hospital
* **Версія**: 17.0.1.0.0
* **Ліцензія**: LGPL-3

Історія змін
============

Версія 17.0.1.0.0 (2024-12-25)
-------------------------------

* Початковий реліз для Odoo 17.0
* Повна українська локалізація (350+ перекладів)
* Комплексне тестування (12+ тестів)
* Детальна документація

Подяки
======

Дякуємо спільноті Odoo за чудовий фреймворк та документацію.

Ліцензія
========

Цей модуль розповсюджується під ліцензією LGPL-3.
Детальніше: https://www.gnu.org/licenses/lgpl-3.0.html
